<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.campussecondhandgoods.mapper.UserMapper">
    <!--数据库查找信息-->
    <select id="login" resultType="User">
        SELECT * FROM [user] WHERE username=#{username} AND password=#{password}
    </select>

    <!--数据库插入信息-->
    <insert id="register" parameterType="User">
        INSERT INTO [user] (username,password,contact,avatarUrl)
        VALUES(#{username},#{password},#{contact},#{avatarUrl})
    </insert>

    <select id="getUserDetail" resultType="User">
        SELECT id,username,contact,avatarUrl FROM [user] WHERE id=#{id}
    </select>

    <select id="findByUsername" resultType="User">
        SELECT TOP 1 * FROM [user] WHERE username=#{username}
    </select>

    <update id="updateProfile" parameterType="User">
        UPDATE [user]
        SET contact = #{contact},
            avatarUrl = #{avatarUrl}
        WHERE id = #{id}
    </update>
</mapper>